define("udx.ui.video",["udx.utility.device"],function(){return console.debug("udx.ui.video","loaded"),function(){console.debug("udx.ui.video","ready");var a,b=(require("udx.utility.device"),{src:this.getAttribute("data-tablet"),tablet:this.getAttribute("data-tablet"),desktop:this.getAttribute("data-desktop"),mobile:this.getAttribute("data-mobile"),placeholder:this.getAttribute("data-placeholder"),loading:this.getAttribute("data-loading")});if(console.debug("udx.ui.video",b),b.src.indexOf(".mp4")>0){console.debug("mp4 html5 video"),a=document.createElement("video");var c=document.createElement("source");a.setAttribute("preload","metadata"),a.setAttribute("style","max-width: 100%; height: auto"),c.setAttribute("src",b.src),c.setAttribute("type","video/mp4"),a.appendChild(c),this.appendChild(a),a.addEventListener("playing",function(){console.log("playing",arguments)}),a.addEventListener("ended",function(){console.log("ended",arguments)}),a.addEventListener("progress",function(){console.log("progress",a.currentTime)},!1)}if(b.src.indexOf("youtube.com")>0){console.debug("youtube video");var a=document.createElement("iframe");a.src=b.src,a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","true"),this.appendChild(a)}return this}});