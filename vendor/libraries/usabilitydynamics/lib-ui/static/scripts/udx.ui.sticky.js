define("udx.ui.sticky",["jquery"],function(){console.debug("udx.ui.sticky","Loaded."),console.debug(typeof jQuery),console.debug(typeof $);var a=({location:this.getAttribute("data-option-location")||"header",cloned:this.getAttribute("data-option-class-cloned")||"udx-cloned",down:this.getAttribute("data-option-class-down")||"udx-down"},{topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:""}),b=$(window),c=$(document),d=[],e=b.height(),f=function(){for(var a=b.scrollTop(),f=c.height(),g=f-e,h=a>g?g-a:0,i=0;i<d.length;i++){var j=d[i],k=j.stickyWrapper.offset().top,l=k-j.topSpacing-h;if(l>=a)null!==j.currentTop&&(j.stickyElement.css("position","").css("top",""),j.stickyElement.parent().removeClass(j.className),j.currentTop=null);else{var m=f-j.stickyElement.outerHeight()-j.topSpacing-j.bottomSpacing-a-h;0>m?m+=j.topSpacing:m=j.topSpacing,j.currentTop!=m&&(j.stickyElement.css("position","fixed").css("top",m),"undefined"!=typeof j.getWidthFrom&&j.stickyElement.css("width",$(j.getWidthFrom).width()),j.stickyElement.parent().addClass(j.className),j.currentTop=m)}}},g=function(){e=b.height()},h={init:function(b){var c=$.extend(a,b);return this.each(function(){var a=$(this),b=a.attr("id"),e=$("<div></div>").attr("id",b+"-sticky-wrapper").addClass(c.wrapperClassName);a.wrapAll(e),c.center&&a.parent().css({width:a.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==a.css("float")&&a.css({"float":"none"}).parent().css({"float":"right"});var f=a.parent();f.css("height",a.outerHeight()),d.push({topSpacing:c.topSpacing,bottomSpacing:c.bottomSpacing,stickyElement:a,currentTop:null,stickyWrapper:f,className:c.className,getWidthFrom:c.getWidthFrom})})},update:f,unstick:function(){return this.each(function(){var a=$(this);removeIdx=-1;for(var b=0;b<d.length;b++)d[b].stickyElement.get(0)==a.get(0)&&(removeIdx=b);-1!=removeIdx&&(d.splice(removeIdx,1),a.unwrap(),a.removeAttr("style"))})}};return window.addEventListener?(window.addEventListener("scroll",f,!1),window.addEventListener("resize",g,!1)):window.attachEvent&&(window.attachEvent("onscroll",f),window.attachEvent("onresize",g)),$.fn.sticky=function(a){return h[a]?h[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void $.error("Method "+a+" does not exist on jQuery.sticky"):h.init.apply(this,arguments)},$.fn.unstick=function(a){return h[a]?h[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void $.error("Method "+a+" does not exist on jQuery.sticky"):h.unstick.apply(this,arguments)},function(){console.debug("udx.ui.sticky","Initialized."),$(this).sticky({topSpacing:0}),console.log(this)}});